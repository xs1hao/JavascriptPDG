<!DOCTYPE html>
<html>
	<head>
		<title>Input Field Pattern Example</title>
		<script type="text/javascript" src="EventUtil.js"></script>
	</head>
	<body>
		<p>
			Try submitting the following form after typing some letters in the
            textbox. This only works in HTML5-compliant browsers.
            <br>
            在input框中写入正则校验，而不用再js逻辑中去处理；
		</p>
		<script>
			(function () {
				var message =
					'Your browser does not support the pattern attribute.'

				if ('pattern' in document.createElement('input')) {
					message = 'Your browser supports the pattern attribute'
				}
				document.write('<p>' + message + '</p>')
			})()
		</script>
		<form
			method="post"
			action="javascript:alert('Form submitted!')"
			id="myForm"
		>
			<label for="count">How many?</label>
			<input
				type="text"
				name="count"
				id="count"
				pattern="\d+"
				title="Please only use numbers"
				required
			/>
			<input type="submit" value="Submit Form" /><br />
			<input type="button" value="Check Validity" id="btnCheck" /><input
				type="button"
				value="Will Validate?"
				id="btnWill"
			/>
		</form>
		<script>
			EventUtil.addHandler(
				document.getElementById('btnCheck'),
				'click',
				function (event) {
                    alert(document.forms[0].elements[0].checkValidity())
                    // checkValidity input元素中的数据合法则返回true，反之则返回false
				}
			)
			EventUtil.addHandler(
				document.getElementById('btnWill'),
				'click',
				function (event) {
                    alert(document.forms[0].elements[0].willValidate)
                    /**
                     * willValidate: 指定 input 是否 需要验证;
                     * willValidate属性:
                     * 该属性获取一个布尔值，表示表单元素是否需要验证。
                     * 如果表单元素设置了required特性或pattern特性，则willValidate属性的值为 true，即表单的验证将会执行。
                     * 仍然以一个id特性为"username"的表单元素为例，willValidate属性的使用方法如下：
                     * var willValidate=document.getElementById(“username”).willValidate;
                     * 
                     * **/
				}
			)
		</script>
	</body>
</html>
